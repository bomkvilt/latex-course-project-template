%% ----------------| document-level functions

% defines a following code as a section code
%   @section_name   - name of the section
\cs_new_protected:Npn \secs_sectonBegin:N #1 {
    \bool_gset_true:N \g_secs_flags_inSection
    \input{sections/#1/auto}
    \graphicspath{ {sections/#1/\ROOTimg/} }
}

% terminates a secton code blo—Åk
%   @section_name   - name of the section
\cs_new_protected:Npn \secs_sectonEnd:N #1 {
    \bool_gset_false:N \g_secs_flags_inSection
}

%% ----------------| section-level functios

% add a reference to a resource
%   @prefix - prefix to be added to all passed lables
%   @names  - list of labels
\seq_new:N \l_secs_labels
\seq_new:N \l_secs_labels_full
\cs_new_protected:Npn \secs_addReference:Nn #1 #2 {
    \seq_clear:N \l_secs_labels_full
    \seq_set_split:Nnn \l_secs_labels {,}{#2}
    \seq_map_inline:Nn \l_secs_labels {
        \seq_push:Nn \l_secs_labels_full {#1 ##1}
    }
    \cref{\seq_use:Nnnn \l_secs_labels_full {,}{,}{,}}
}
