\makeatletter

\newcommand{\@@postdump}{}

%%% add code that must be executed in precompiled section and after one
\newcommand{\addModuleCode}[2]
{
    % execute precompiled code
    #1    
    % add general code to be executed later
    \g@addto@macro\@@postdump{#2}
}
%%% execute regular code
\newcommand{\afterdump}
{
    \typeout{Info: executing postdump callbacks...}

    \@@postdump
    
    \typeout{Info: executing postdump callbacks... done}
}

\makeatother
